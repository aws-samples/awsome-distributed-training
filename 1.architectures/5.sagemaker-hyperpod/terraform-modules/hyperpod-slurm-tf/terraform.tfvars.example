# Basic Configuration
resource_name_prefix = "hyperpod"
aws_region = "us-west-2"
availability_zone_id = "usw2-az2"

# HyperPod Cluster Configuration
hyperpod_cluster_name = "ml-cluster"

# Instance Groups Configuration
instance_groups = {
  controller-machine = {
    instance_type    = "ml.c5.xlarge"
    instance_count   = 1
    ebs_volume_size  = 100
    threads_per_core = 1
    lifecycle_script = "on_create.sh"
  }
  login-nodes = {
    instance_type    = "ml.m5.4xlarge"
    instance_count   = 1
    ebs_volume_size  = 100
    threads_per_core = 1
    lifecycle_script = "on_create.sh"
  }
  compute-nodes = {
    instance_type    = "ml.g5.4xlarge"
    instance_count   = 2
    ebs_volume_size  = 500
    threads_per_core = 1
    lifecycle_script = "on_create.sh"
  }
}

# Network Configuration
vpc_cidr = "10.0.0.0/16"
public_subnet_cidr = "10.0.1.0/24"
private_subnet_cidr = "10.0.2.0/24"

# FSx Lustre Configuration
fsx_lustre_storage_capacity = 1200
fsx_lustre_throughput_per_unit = 250
fsx_lustre_compression_type = "LZ4"
fsx_lustre_version = "2.15"

# OpenZFS Configuration
fsx_openzfs_storage_capacity = 64
fsx_openzfs_throughput_capacity = 64
fsx_openzfs_compression_type = "ZSTD"
fsx_openzfs_deployment_type = "SINGLE_AZ_1"  # Options: SINGLE_AZ_1, SINGLE_AZ_HA_1, MULTI_AZ_1
# fsx_openzfs_subnet_ids = ["subnet-12345", "subnet-67890"]  # Required for MULTI_AZ_1 (different AZs)

# Module Control - Set to false to use existing resources
create_vpc_module = true
create_private_subnet_module = true
create_security_group_module = true
create_s3_bucket_module = true
create_s3_endpoint_module = true
create_fsx_lustre_module = true
create_fsx_openzfs_module = false
create_lifecycle_script_module = true
create_sagemaker_iam_role_module = true
create_hyperpod_module = true

# Existing Resource IDs (only needed if corresponding create_*_module = false)
# existing_vpc_id = "vpc-1234567890abcdef0"
# existing_private_subnet_id = "subnet-1234567890abcdef0"
# existing_security_group_id = "sg-1234567890abcdef0"
# existing_s3_bucket_name = "my-existing-bucket"
# existing_sagemaker_iam_role_name = "my-existing-role"

# Lifecycle Scripts Configuration
lifecycle_scripts_path = "../../LifecycleScripts/base-config"